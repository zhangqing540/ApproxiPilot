import ctypes
from ctypes import *
add12u_0AF = ctypes.CDLL("uint_lib/add12/add12u_0AF.so")
add12u_0AZ = ctypes.CDLL("uint_lib/add12/add12u_0AZ.so")
add12u_0B6 = ctypes.CDLL("uint_lib/add12/add12u_0B6.so")
add12u_0C9 = ctypes.CDLL("uint_lib/add12/add12u_0C9.so")
add12u_0G8 = ctypes.CDLL("uint_lib/add12/add12u_0G8.so")
add12u_0JK = ctypes.CDLL("uint_lib/add12/add12u_0JK.so")
add12u_0LN = ctypes.CDLL("uint_lib/add12/add12u_0LN.so")
add12u_0PX = ctypes.CDLL("uint_lib/add12/add12u_0PX.so")
add12u_0UZ = ctypes.CDLL("uint_lib/add12/add12u_0UZ.so")
add12u_0Z5 = ctypes.CDLL("uint_lib/add12/add12u_0Z5.so")
add12u_0ZP = ctypes.CDLL("uint_lib/add12/add12u_0ZP.so")
add12u_2KC = ctypes.CDLL("uint_lib/add12/add12u_2KC.so")
add12u_2L1 = ctypes.CDLL("uint_lib/add12/add12u_2L1.so")
add12u_2UF = ctypes.CDLL("uint_lib/add12/add12u_2UF.so")
add12u_2UH = ctypes.CDLL("uint_lib/add12/add12u_2UH.so")
add12u_3K3 = ctypes.CDLL("uint_lib/add12/add12u_3K3.so")
add12u_3L3 = ctypes.CDLL("uint_lib/add12/add12u_3L3.so")
add12u_3R0 = ctypes.CDLL("uint_lib/add12/add12u_3R0.so")
add12u_3UT = ctypes.CDLL("uint_lib/add12/add12u_3UT.so")
add12u_4NT = ctypes.CDLL("uint_lib/add12/add12u_4NT.so")
add12u_4TF = ctypes.CDLL("uint_lib/add12/add12u_4TF.so")
add12u_06R = ctypes.CDLL("uint_lib/add12/add12u_06R.so")
add12u_22J = ctypes.CDLL("uint_lib/add12/add12u_22J.so")
add12u_28B = ctypes.CDLL("uint_lib/add12/add12u_28B.so")
add12u_38J = ctypes.CDLL("uint_lib/add12/add12u_38J.so")
add12u_39N = ctypes.CDLL("uint_lib/add12/add12u_39N.so")
add12u_50U = ctypes.CDLL("uint_lib/add12/add12u_50U.so")
add12u_103 = ctypes.CDLL("uint_lib/add12/add12u_103.so")
add12u_187 = ctypes.CDLL("uint_lib/add12/add12u_187.so")
add12u_uint_lib = {
    "add12u_0AF": add12u_0AF,
    "add12u_0AZ": add12u_0AZ,
    "add12u_0B6": add12u_0B6,
    "add12u_0C9": add12u_0C9,
    "add12u_0G8": add12u_0G8,
    "add12u_0JK": add12u_0JK,
    "add12u_0LN": add12u_0LN,
    "add12u_0PX": add12u_0PX,
    "add12u_0UZ": add12u_0UZ,
    "add12u_0Z5": add12u_0Z5,
    "add12u_0ZP": add12u_0ZP,
    "add12u_2KC": add12u_2KC,
    "add12u_2L1": add12u_2L1,
    "add12u_2UF": add12u_2UF,
    "add12u_2UH": add12u_2UH,
    "add12u_3K3": add12u_3K3,
    "add12u_3L3": add12u_3L3,
    "add12u_3R0": add12u_3R0,
    "add12u_3UT": add12u_3UT,
    "add12u_4NT": add12u_4NT,
    "add12u_4TF": add12u_4TF,
    "add12u_06R": add12u_06R,
    "add12u_22J": add12u_22J,
    "add12u_28B": add12u_28B,
    "add12u_38J": add12u_38J,
    "add12u_39N": add12u_39N,
    "add12u_50U": add12u_50U,
    "add12u_103": add12u_103,
    "add12u_187": add12u_187,
}
add8u_1HG=ctypes.CDLL("uint_lib/add8/add8u_1HG.so")
add8u_6PT=ctypes.CDLL("uint_lib/add8/add8u_6PT.so")
add8u_0NS=ctypes.CDLL("uint_lib/add8/add8u_0NS.so")
add8u_0NQ=ctypes.CDLL("uint_lib/add8/add8u_0NQ.so")
add8u_0NH=ctypes.CDLL("uint_lib/add8/add8u_0NH.so")
add8u_0PA=ctypes.CDLL("uint_lib/add8/add8u_0PA.so")
add8u_6MZ=ctypes.CDLL("uint_lib/add8/add8u_6MZ.so")
add8u_0PL=ctypes.CDLL("uint_lib/add8/add8u_0PL.so")
add8u_0UK=ctypes.CDLL("uint_lib/add8/add8u_0UK.so")
add8u_05G=ctypes.CDLL("uint_lib/add8/add8u_05G.so")
add8u_6LG=ctypes.CDLL("uint_lib/add8/add8u_6LG.so")
add8u_2J3=ctypes.CDLL("uint_lib/add8/add8u_2J3.so")
add8u_2AM=ctypes.CDLL("uint_lib/add8/add8u_2AM.so")
add8u_0D0=ctypes.CDLL("uint_lib/add8/add8u_0D0.so")
add8u_4M7=ctypes.CDLL("uint_lib/add8/add8u_4M7.so")
add8u_3RE=ctypes.CDLL("uint_lib/add8/add8u_3RE.so")
add8u_0E2=ctypes.CDLL("uint_lib/add8/add8u_0E2.so")
add8u_2LL=ctypes.CDLL("uint_lib/add8/add8u_2LL.so")
add8u_6TH=ctypes.CDLL("uint_lib/add8/add8u_6TH.so")
add8u_6FT=ctypes.CDLL("uint_lib/add8/add8u_6FT.so")
add8u_02Y=ctypes.CDLL("uint_lib/add8/add8u_02Y.so")
add8u_108=ctypes.CDLL("uint_lib/add8/add8u_108.so")
add8u_6P8=ctypes.CDLL("uint_lib/add8/add8u_6P8.so")
add8u_6K6=ctypes.CDLL("uint_lib/add8/add8u_6K6.so")
add8u_0JM=ctypes.CDLL("uint_lib/add8/add8u_0JM.so")
add8u_6QU=ctypes.CDLL("uint_lib/add8/add8u_6QU.so")
add8u_6S4=ctypes.CDLL("uint_lib/add8/add8u_6S4.so")
add8u_6R6=ctypes.CDLL("uint_lib/add8/add8u_6R6.so")
add8u_00M=ctypes.CDLL("uint_lib/add8/add8u_00M.so")
add8u_6SM=ctypes.CDLL("uint_lib/add8/add8u_6SM.so")
add8u_0TP=ctypes.CDLL("uint_lib/add8/add8u_0TP.so")
add8_uint_lib= {
        'add8u_1HG': add8u_1HG,
        'add8u_6PT': add8u_6PT,
        'add8u_0NS': add8u_0NS,
        'add8u_0NQ': add8u_0NQ,
        'add8u_0NH': add8u_0NH,
        'add8u_0PA': add8u_0PA,
        'add8u_6MZ': add8u_6MZ,
        'add8u_0PL': add8u_0PL,
        'add8u_0UK': add8u_0UK,
        'add8u_05G': add8u_05G,
        'add8u_6LG': add8u_6LG,
        'add8u_2J3': add8u_2J3,
        'add8u_2AM': add8u_2AM,
        'add8u_0D0': add8u_0D0,
        'add8u_4M7': add8u_4M7,
        'add8u_3RE': add8u_3RE,
        'add8u_0E2': add8u_0E2,
        'add8u_2LL': add8u_2LL,
        'add8u_6TH': add8u_6TH,
        'add8u_6FT': add8u_6FT,
        'add8u_02Y': add8u_02Y,
        'add8u_108': add8u_108,
        'add8u_6P8': add8u_6P8,
        'add8u_6K6': add8u_6K6,
        'add8u_0JM': add8u_0JM,
        'add8u_6QU': add8u_6QU,
        'add8u_6S4': add8u_6S4,
        'add8u_6R6': add8u_6R6,
        'add8u_00M': add8u_00M,
        'add8u_6SM': add8u_6SM,
        'add8u_0TP': add8u_0TP,
}
sub10_1 =ctypes.CDLL("uint_lib/sub10/sub10_1.so")
sub10_5 =ctypes.CDLL("uint_lib/sub10/sub10_5.so")
sub10_6 =ctypes.CDLL("uint_lib/sub10/sub10_6.so")
sub10_15 =ctypes.CDLL("uint_lib/sub10/sub10_15.so")
sub10_26 =ctypes.CDLL("uint_lib/sub10/sub10_26.so")
sub10_65 =ctypes.CDLL("uint_lib/sub10/sub10_65.so")
sub10_85 =ctypes.CDLL("uint_lib/sub10/sub10_85.so")
sub10_90 =ctypes.CDLL("uint_lib/sub10/sub10_90.so")
sub10_130 =ctypes.CDLL("uint_lib/sub10/sub10_130.so")
sub10_135 =ctypes.CDLL("uint_lib/sub10/sub10_135.so")
sub10_200 =ctypes.CDLL("uint_lib/sub10/sub10_200.so")
sub10_210 =ctypes.CDLL("uint_lib/sub10/sub10_210.so")
sub10_260 =ctypes.CDLL("uint_lib/sub10/sub10_260.so")
sub10_270 =ctypes.CDLL("uint_lib/sub10/sub10_270.so")
sub10_uint_lib={
    "sub10_1":sub10_1 ,
"sub10_5":sub10_5 ,
"sub10_6":sub10_6 ,
"sub10_15":sub10_15 ,
"sub10_26":sub10_26 ,
"sub10_65":sub10_65 ,
"sub10_85":sub10_85 ,
"sub10_90":sub10_90 ,
"sub10_130":sub10_130 ,
"sub10_135":sub10_135 ,
"sub10_200":sub10_200 ,
"sub10_210":sub10_210 ,
"sub10_260":sub10_260 ,
"sub10_270":sub10_270 ,
}
def sobel_kernel(i,j,img,opt1,opt2,opt3,opt4,opt5):
    #print(opt1,opt2,opt3,opt4,opt5)
    #step1 two 8bits_sum
    part1_sum1=getattr(add8_uint_lib[opt1], opt1)(ctypes.c_int64(int(img[i + 2, j])), ctypes.c_int64(int(img[i + 2, j + 2])))
    part1_sum2=2*(img[i,j+1])
    part1_sum3 = getattr(add8_uint_lib[opt2], opt2)(ctypes.c_int64(int(img[i, j])),ctypes.c_int64(int(img[i, j + 2])))
    part1_sum4=(2)*(img[i+2,j+1])
    #step2 two 9bits_sum
    part2_sum1 = getattr(add12u_uint_lib[opt3], opt3)(ctypes.c_int64(int(part1_sum1)), ctypes.c_int64(int(part1_sum2)))
    part2_sum2 = getattr(add12u_uint_lib[opt4], opt4)(ctypes.c_int64(int(part1_sum3)), ctypes.c_int64(int(part1_sum4)))
    #step3 one 10bits_sub
    if part2_sum1>part2_sum2:
        sum = getattr(sub10_uint_lib[opt5], opt5)(ctypes.c_int64(int(part2_sum1)), ctypes.c_int64(int(part2_sum2)))
    else:
        sum = getattr(sub10_uint_lib[opt5], opt5)(ctypes.c_int64(int(part2_sum2)), ctypes.c_int64(int(part2_sum1)))
    #print(sum)
    return sum
